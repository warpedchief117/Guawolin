{% load static %}
<nav class="bg-white shadow-md">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16 items-center">

      <!-- Logo -->
      <a href="{% url 'home' %}" class="text-2xl font-bold text-indigo-600 hover:text-indigo-800 transition">Fiestapp</a>

      <!-- Navegación -->
      <div class="flex space-x-6 items-center">
        {% if not user.is_authenticated %}
          <a href="{% url 'events' %}" class="text-gray-700 hover:text-indigo-600 font-medium transition">Eventos</a>
          <a href="{% url 'register_assistant' %}" class="text-gray-700 hover:text-indigo-600 font-medium transition">Registro de Asistentes</a>
          <a href="{% url 'register_organizer' %}" class="text-gray-700 hover:text-indigo-600 font-medium transition">¿Quieres ser Organizador?</a>
          <a href="{% url 'login' %}" class="text-gray-700 hover:text-indigo-600 font-medium transition">Iniciar sesión</a>

        {% elif user.rol == 'asistente' %}
          <a href="{% url 'eventos_disponibles' %}" class="text-gray-700 hover:text-indigo-600 font-medium transition">Eventos</a>
          <a href="{% url 'my_tickets' %}" class="text-gray-700 hover:text-indigo-600 font-medium transition">Mis Tickets</a>

        {% elif user.rol == 'organizador' %}
          <a href="{% url 'my_events' %}" class="text-gray-700 hover:text-indigo-600 font-medium transition">Mis Eventos</a>
          <a href="{% url 'crear_evento' %}" class="text-gray-700 hover:text-green-600 font-medium transition">Crear Evento</a>
          <a href="{% url 'reports' %}" class="text-gray-700 hover:text-indigo-600 font-medium transition">Reportes</a>
        {% endif %}

        <!-- Dropdown de perfil -->
        {% if user.is_authenticated %}
          <div class="relative">
            <button id="profileMenuBtn" class="w-9 h-9 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold focus:outline-none">
              {{ user.username|slice:":1"|upper }}
            </button>
            <div id="profileDropdown" class="hidden absolute top-full right-0 mt-2 w-48 bg-white border rounded shadow-lg z-50">
              <a href="{% url 'profile_settings' %}" class="block px-4 py-2 hover:bg-gray-100">Configuración</a>
              <form method="post" action="{% url 'logout' %}">
                {% csrf_token %}
                <button type="submit" class="w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600">Cerrar sesión</button>
              </form>
            </div>
          </div>

        {% endif %}
      </div>
    </div>
  </div>
</nav>
<script src="{% static 'JS/perfil.js' %}" defer></script>
